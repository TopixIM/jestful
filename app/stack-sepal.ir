{:definitions {"jestful.style.typeset/paragraph" ["def" "paragraph" ["{}" [":line-height" "2"]]], "jestful.style.widget/textbox" ["def" "textbox" ["{}" [":border" "|none"] [":font-size" "|16px"] [":line-height" "2"] [":padding" "|0 8px"] [":outline" "|none"]]], "jestful.comp.message/style-message" ["def" "style-message" ["{}" [":padding" "|8px 8px"] [":border-bottom" ["str" "|1px solid " ["hsl" "0" "0" "100"]]] [":line-height" "1.6"] [":font-size" "|13px"]]], "jestful.style.widget/dim7" ["def" "dim7" ["{}" [":background-color" ["hsl" "0" "0" "70"]]]], "jestful.core/store-ref" ["defonce" "store-ref" ["atom" ["{}"]]], "jestful.style.widget/username" ["def" "username" ["{}" [":display" "|inline-block"] [":background-color" ["hsl" "30" "80" "100"]] [":padding" "|0 8px"] [":border-radius" "|4px"] [":color" ["hsl" "0" "0" "60"]] [":font-size" "|12px"] [":line-height" "2"] [":width" "|100px"] [":text-overflow" "|ellipsis"] [":overflow" "|hidden"] [":text-align" "|right"]]], "jestful.style.widget/notice-large" ["def" "notice-large" ["{}" [":font-size" "|28px"] [":font-weight" "|lighter"] [":color" ["hsl" "0" "0" "70"]]]], "jestful.util.format/display-time" ["defn" "display-time" ["time"] ["let" [["the-time" ["js/Date." "time"]] ["hours" [".getHours" "the-time"]] ["mins" [".getMinutes" "the-time"]]] ["str" "hours" "|:" "mins"]]], "jestful.style.typeset/description" ["def" "description" ["{}" [":color" ["hsl" "0" "0" "60"]] [":font-size" "16"] [":line-height" "2"]]], "jestful.style.widget/time-tip" ["def" "time-tip" ["{}" [":font-size" "|10px"] [":color" ["hsl" "0" "0" "80"]] [":font-weight" "|lighter"] [":font-family" "|Menlo,monospace"] [":vertical-align" "|middle"] [":align-self" "|center"] [":flex-shrink" "0"]]], "jestful.comp.naming/render" ["defn" "render" ["nickname"] ["fn" ["state" "mutate!"] ["input" ["{}" [":style" ["merge" "ui/input" "style-input"]] [":attrs" ["{}" [":placeholder" "|访客..."] [":value" "nickname"]]] [":event" ["{}" [":input" "on-input"]]]]]]], "jestful.style.layout/column" ["def" "column" ["{}" [":display" "|flex"] [":flex-direction" "|column"] [":align-items" "|stretch"] [":justify-content" "|flex-start"]]], "jestful.comp.reply/update-state" ["defn" "update-state" ["state" "text"] "text"], "jestful.style.widget/card" ["def" "card" ["{}" [":padding" "|20px"]]], "jestful.comp.message/comp-message" ["def" "comp-message" ["create-comp" ":message" "render"]], "jestful.comp.reply/comp-reply" ["def" "comp-reply" ["create-comp" ":reply" "init-state" "update-state" "render"]], "jestful.comp.reply/style-reply" ["def" "style-reply" ["{}" [":width" "|auto"] [":background-color" ["hsl" "0" "0" "99"]] [":flex-shrink" "0"] [":flex" "1"] [":padding" "|6px 8px"] [":resize" "|none"] [":line-height" "1.6"]]], "jestful.style.layout/vertical" ["def" "vertical" ["{}" [":display" "|flex"] [":flex-direction" "|column"] [":align-items" "|stretch"] [":justify-content" "|space-between"]]], "jestful.style.widget/dim9" ["def" "dim9" ["{}" [":background-color" ["hsl" "0" "0" "90"]]]], "jestful.core/on-jsload" ["defn" "on-jsload" [] ["clear-cache!"] ["render-app!"] ["println" "|code updated."]], "jestful.comp.reply/on-keydown" ["defn" "on-keydown" ["state" "mutate!"] ["fn" ["e" "dispatch!"] ["if" ["and" ["=" "13" [":key-code" "e"]] ["not" ["string/blank?" "state"]]] ["do" [".preventDefault" [":original-event" "e"]] ["mutate!" "|"] ["dispatch!" ":reply" "state"]]]]], "jestful.style.typeset/entry" ["def" "entry" ["{}"]], "jestful.style.widget/logo-small" ["defn" "logo-small" ["img"] ["{}" [":width" "|24px"] [":height" "|24px"] [":background-image" ["str" "|url(" "img" "|)"]] [":background-size" "|contain"] [":background-position" "|center"] [":background-repeat" "|no-repeat"]]], "jestful.comp.empty/render" ["defn" "render" [] ["fn" ["state" "mutate!"] ["div" ["{}" [":style" ["merge" "ui/fullscreen" "style-empty"]]] ["comp-text" "|我在测试... \b如果服务器断开, 等待 8s 自动刷新~" "nil"] ["comp-space" "nil" "|40px"] ["comp-text" "|不过要是等了一分钟, 还是手动刷吧..." "nil"]]]], "jestful.style.layout/article" ["def" "article" ["{}" [":padding" "|40px"] [":overflow-y" "|auto"]]], "jestful.style.layout/row" ["def" "row" ["{}" [":display" "|flex"] [":flex-direction" "|row"] [":align-items" "|stretch"] [":justify-content" "|flex-start"]]], "jestful.style.widget/button" ["def" "button" ["{}" [":font-size" "|14px"] [":line-height" "2"] [":font-weight" "|normal"] [":background-color" ["hsl" "200" "60" "80"]] [":border" "|none"] [":outline" "|none"] [":color" "|white"] [":border-radius" "|8px"] [":padding" "|0 8px"]]], "jestful.style.layout/fullscreen" ["def" "fullscreen" ["{}" [":position" "|absolute"] [":width" "|100%"] [":height" "|100%"]]], "jestful.style.widget/resource" ["def" "resource" ["{}" [":padding" "|0 8px"] [":line-height" "2"] [":color" ["hsl" "200" "20" "50"]] [":text-decoration" "|none"] [":font-size" "|14px"]]], "jestful.comp.message/style-content" ["def" "style-content" ["{}" [":min-width" "|40px"]]], "jestful.style.devtool/dim" ["def" "dim" ["{}" [":background-color" ["hsl" "0" "0" "90"]]]], "jestful.style.widget/dim8" ["def" "dim8" ["{}" [":background-color" ["hsl" "0" "0" "80"]]]], "jestful.comp.container/comp-container" ["def" "comp-container" ["create-comp" ":container" "render"]], "jestful.style.layout/horizontal-box" ["def" "horizontal-box" ["{}" [":display" "|flex"] [":flex-direction" "|row"] [":align-items" "|center"] [":justify-content" "|center"]]], "jestful.style.typeset/heading" ["def" "heading" ["{}" [":font-size" "|20px"] [":line-height" "2"] [":margin-top" "|16px"] [":font-weight" "|lighter"] [":color" ["hsl" "0" "0" "70"]]]], "jestful.style.widget/showcase" ["def" "showcase" ["merge" "layout/row" ["{}" [":align-items" "|center"] [":border" ["str" "|1px solid " ["hsl" "0" "0" "90"]]] [":padding" "|0 8px"] [":margin-right" "|8px"] [":margin-bottom" "|8px"] [":align-items" "|center"] [":width" "|180px"] [":height" "|40px"] [":border-radius" "|4px"]]]], "jestful.comp.reply/on-input" ["defn" "on-input" ["mutate!"] ["fn" ["e" "dispatch!"] ["mutate!" [":value" "e"]] ["dispatch!" ":draft" [":value" "e"]]]], "jestful.core/render-app!" ["defn" "render-app!" [] ["let" [["target" [".querySelector" "js/document" "|#app"]]] ["render!" ["comp-container" "@store-ref"] "target" "dispatch!" "states-ref"]]], "jestful.style.widget/number-highlight" ["def" "number-highlight" ["{}" [":background-color" ["hsl" "40" "80" "60"]] [":color" ["hsl" "0" "0" "100"]] [":padding" "|0 8px"] [":border-radius" "|12px"] [":font-size" "|12px"] [":line-height" "2"] [":display" "|inline-block"]]], "jestful.core/-main" ["defn" "-main" [] ["enable-console-print!"] ["render-app!"] ["setup-socket!" "store-ref" ["{}" [":url" "|ws://js.topix.im:5020"] [":on-close!" ["fn" ["event"] [".error" "js/console" "|Lost connection!"] ["reset!" "store-ref" "nil"] ["js/setTimeout" ["fn" [] [".reload" "js/location"]] "8000"]]]]] ["add-watch" "store-ref" ":changes" "render-app!"] ["add-watch" "states-ref" ":changes" "render-app!"] ["println" "|app started!"] ["let" [["configEl" [".querySelector" "js/document" "|#config"]] ["config" ["read-string" [".-innerHTML" "configEl"]]]] ["if" ["and" ["some?" "navigator.serviceWorker"] [":build?" "config"]] ["->" "navigator.serviceWorker" [".register" "|./sw.js"] [".then" ["fn" ["registration"] ["println" "|resigtered:" "registration.scope"]]] [".catch" ["fn" ["error"] ["println" "|failed:" "error"]]]]]]], "jestful.comp.message/render" ["defn" "render" ["message"] ["fn" ["state" "mutate!"] ["let" [["nickname" [":author-name" "message"]]] ["div" ["{}" [":style" ["merge" "ui/row" "style-message"]]] ["div" ["{}" [":style" "style-content"]] ["comp-text" [":text" "message"] "nil"]] ["comp-space" "|16px" "nil"] ["div" ["{}" [":style" "style-name"]] ["comp-text" ["if" ["string/blank?" "nickname"] "|访客" "nickname"] "nil"] ["comp-space" "|8px" "nil"] ["comp-text" ["display-time" [":time" "message"]] "nil"]]]]]], "jestful.comp.naming/on-input" ["defn" "on-input" ["e" "dispatch!"] ["dispatch!" ":naming" [":value" "e"]]], "jestful.style.layout/vertical-box" ["def" "vertical-box" ["{}" [":display" "|flex"] [":flex-direction" "|column"] [":align-items" "|center"] [":justify-content" "|center"]]], "jestful.comp.header/style-header" ["def" "style-header" ["{}" [":height" "40"] [":background-color" ["hsl" "0" "0" "96"]] [":padding" "8"] [":color" ["hsl" "0" "0" "50"]]]], "jestful.comp.reply/render" ["defn" "render" ["session"] ["fn" ["state" "mutate!"] ["div" ["{}" [":style" ["merge" "ui/row" "ui/flex" "style-container"]]] ["textarea" ["{}" [":style" ["merge" "ui/input" "style-reply"]] [":attrs" ["{}" [":placeholder" "|回复..."] [":value" "state"]]] [":event" ["{}" [":input" ["on-input" "mutate!"]] [":keydown" ["on-keydown" "state" "mutate!"]]]]]] ["comp-naming" [":nickname" "session"]] ["--" "comp-debug" "session" "nil"]]]], "jestful.style.layout/flex" ["def" "flex" ["{}" [":flex" "1"] [":flex-shrink" "0"]]], "jestful.style.devtool/shadow" ["def" "shadow" ["{}" [":box-shadow" ["str" "|0 0 1px " ["hsl" "0" "0" "0" "0.4"]]]]], "jestful.comp.draft/style-draft" ["def" "style-draft" ["{}" [":padding" "8"] [":color" ["hsl" "0" "0" "60"]] [":line-height" "1.6"] [":min-height" "|37px"]]], "jestful.style.layout/scroll" ["def" "scroll" ["{}" [":overflow" "|auto"]]], "jestful.comp.container/render" ["defn" "render" ["store"] ["fn" ["state" "mutate!"] ["if" ["some?" "store"] ["div" ["{}" [":style" ["merge" "ui/column" "style-container"]]] ["comp-header" [":state" "store"] [":statistics" "store"]] ["comp-reply" [":state" "store"]] ["div" ["{}" [":style" ["{}"]]] ["->>" [":drafts" "store"] ["map" ["fn" ["draft"] ["let" [[["[]" "state-id" "nickname" "text"] "draft"]] ["[]" "state-id" ["comp-draft" "nickname" "text"]]]]]]] ["div" ["{}" [":style" ["{}"]]] ["->>" [":messages" "store"] ["reverse"] ["map" ["fn" ["message"] ["[]" [":id" "message"] ["comp-message" "message"]]]]]] ["--" "comp-debug" [":drafts" "store"] ["{}" [":bottom" "0"] [":left" "0"] [":max-width" "|100%"]]]] ["comp-empty"]]]], "jestful.comp.header/comp-header" ["def" "comp-header" ["create-comp" ":header" "render"]], "jestful.style.layout/horizontal" ["def" "horizontal" ["{}" [":display" "|flex"] [":flex-direction" "|row"] [":align-items" "|stretch"] [":justify-content" "|space-between"]]], "jestful.style.widget/message" ["def" "message" ["{}" [":padding" "|4px 0"]]], "jestful.comp.container/style-container" ["def" "style-container" ["{}" [":font-size" "|13px"]]], "jestful.comp.empty/comp-empty" ["def" "comp-empty" ["create-comp" ":empty" "render"]], "jestful.style.typeset/title" ["def" "title" ["{}" [":font-weight" "|bold"] [":line-height" "2"] [":font-size" "|16px"]]], "jestful.core/states-ref" ["defonce" "states-ref" ["atom" ["{}"]]], "jestful.comp.naming/comp-naming" ["def" "comp-naming" ["create-comp" ":naming" "render"]], "jestful.comp.reply/style-container" ["def" "style-container" ["{}" [":min-height" "40"]]], "jestful.comp.message/style-name" ["def" "style-name" ["{}" [":color" ["hsl" "0" "0" "80"]] [":overflow" "|hidden"] [":flex-shrink" "0"]]], "jestful.style.layout/sidebar" ["def" "sidebar" ["{}" [":flex" "1"] [":min-width" "|260px"] [":background-color" ["hsl" "0" "0" "96"]]]], "jestful.comp.reply/init-state" ["defn" "init-state" ["&" "args"] "|"], "jestful.comp.header/render" ["defn" "render" ["session" "statistics"] ["fn" ["state" "mutate!"] ["div" ["{}" [":style" "style-header"]] ["comp-text" "|参与聊天" "nil"] ["comp-space" "|8px" "nil"] ["comp-text" ["str" [":count" "statistics"] "|人"]] ["comp-space" "|8px" "nil"] ["comp-text" ["string/join" "|, " [":names" "statistics"]] "nil"] ["--" "comp-debug" "session" "nil"]]]], "jestful.comp.draft/comp-draft" ["def" "comp-draft" ["create-comp" ":draft" "render"]], "jestful.core/dispatch!" ["defn" "dispatch!" ["op" "op-data"] ["send!" "op" "op-data"]], "jestful.comp.naming/style-input" ["def" "style-input" ["{}" [":width" "|80px"] [":background-color" ["hsl" "0" "0" "100"]]]], "jestful.comp.empty/style-empty" ["def" "style-empty" ["{}" [":background-color" ["hsl" "200" "80" "40"]] [":color" ["hsl" "0" "0" "100"]] [":padding" "|40px"] [":line-height" "2"]]], "jestful.style.widget/row-divider" ["def" "row-divider" ["{}" [":width" "|2px"] [":background-color" ["hsl" "0" "0" "94"]]]], "jestful.style.widget/avatar" ["def" "avatar" ["{}" [":width" "|80px"] [":height" "|80px"] [":background-image" ["str" "|url(tiye-400x400.jpg)"]] [":background-size" "|cover"] [":border-radius" "|50%"] [":flex-shrink" "0"]]], "jestful.comp.draft/render" ["defn" "render" ["nickname" "text"] ["fn" ["state" "mutate!"] ["div" ["{}" [":style" "style-draft"]] ["comp-text" "text" "nil"] ["comp-space" "|8px" "nil"] ["comp-text" "nickname" "nil"]]]]}, :namespaces {"jestful.comp.container" ["ns" "jestful.comp.container" [":require" ["[]" "hsl.core" ":refer" ["[]" "hsl"]] ["[]" "respo.alias" ":refer" ["[]" "create-comp" "div" "span" "textarea"]] ["[]" "respo-ui.style" ":as" "ui"] ["[]" "jestful.style.widget" ":as" "widget"] ["[]" "jestful.style.layout" ":as" "layout"] ["[]" "respo.comp.text" ":refer" ["[]" "comp-text"]] ["[]" "respo.comp.space" ":refer" ["[]" "comp-space"]] ["[]" "respo.comp.debug" ":refer" ["[]" "comp-debug"]] ["[]" "jestful.comp.header" ":refer" ["[]" "comp-header"]] ["[]" "jestful.comp.reply" ":refer" ["[]" "comp-reply"]] ["[]" "jestful.comp.naming" ":refer" ["[]" "comp-naming"]] ["[]" "jestful.comp.message" ":refer" ["[]" "comp-message"]] ["[]" "jestful.comp.empty" ":refer" ["[]" "comp-empty"]] ["[]" "jestful.comp.draft" ":refer" ["[]" "comp-draft"]]]], "jestful.comp.draft" ["ns" "jestful.comp.draft" [":require" ["[]" "hsl.core" ":refer" ["[]" "hsl"]] ["[]" "respo.alias" ":refer" ["[]" "create-comp" "div" "span" "textarea"]] ["[]" "respo-ui.style" ":as" "ui"] ["[]" "jestful.style.widget" ":as" "widget"] ["[]" "jestful.style.layout" ":as" "layout"] ["[]" "respo.comp.text" ":refer" ["[]" "comp-text"]] ["[]" "respo.comp.space" ":refer" ["[]" "comp-space"]] ["[]" "respo.comp.debug" ":refer" ["[]" "comp-debug"]]]], "jestful.style.widget" ["ns" "jestful.style.widget" [":require" ["[]" "hsl.core" ":refer" ["[]" "hsl"]] ["[]" "jestful.style.layout" ":as" "layout"]]], "jestful.comp.empty" ["ns" "jestful.comp.empty" [":require" ["[]" "hsl.core" ":refer" ["[]" "hsl"]] ["[]" "clojure.string" ":as" "string"] ["[]" "respo.alias" ":refer" ["[]" "create-comp" "div" "span" "textarea"]] ["[]" "respo-ui.style" ":as" "ui"] ["[]" "jestful.style.widget" ":as" "widget"] ["[]" "jestful.style.layout" ":as" "layout"] ["[]" "respo.comp.debug" ":refer" ["[]" "comp-debug"]] ["[]" "respo.comp.space" ":refer" ["[]" "comp-space"]] ["[]" "respo.comp.text" ":refer" ["[]" "comp-text"]]]], "jestful.comp.header" ["ns" "jestful.comp.header" [":require" ["[]" "hsl.core" ":refer" ["[]" "hsl"]] ["[]" "clojure.string" ":as" "string"] ["[]" "respo.alias" ":refer" ["[]" "create-comp" "div" "span"]] ["[]" "jestful.style.widget" ":as" "widget"] ["[]" "jestful.style.layout" ":as" "layout"] ["[]" "respo.comp.text" ":refer" ["[]" "comp-text"]] ["[]" "respo.comp.space" ":refer" ["[]" "comp-space"]] ["[]" "respo.comp.debug" ":refer" ["[]" "comp-debug"]] ["[]" "jestful.comp.naming" ":refer" ["[]" "comp-naming"]]]], "jestful.style.devtool" ["ns" "jestful.style.devtool" [":require" ["[]" "hsl.core" ":refer" ["[]" "hsl"]]]], "jestful.comp.reply" ["ns" "jestful.comp.reply" [":require" ["[]" "hsl.core" ":refer" ["[]" "hsl"]] ["[]" "clojure.string" ":as" "string"] ["[]" "respo.alias" ":refer" ["[]" "create-comp" "div" "span" "textarea"]] ["[]" "respo-ui.style" ":as" "ui"] ["[]" "jestful.style.widget" ":as" "widget"] ["[]" "jestful.style.layout" ":as" "layout"] ["[]" "respo.comp.debug" ":refer" ["[]" "comp-debug"]] ["[]" "jestful.comp.naming" ":refer" ["[]" "comp-naming"]]]], "jestful.core" ["ns" "jestful.core" [":require" ["[]" "respo.core" ":refer" ["[]" "render!" "clear-cache!"]] ["[]" "jestful.comp.container" ":refer" ["[]" "comp-container"]] ["[]" "cljs.reader" ":refer" ["[]" "read-string"]] ["[]" "cumulo-client.core" ":refer" ["[]" "send!" "setup-socket!"]]]], "jestful.util.format" ["ns" "jestful.util.format"], "jestful.comp.message" ["ns" "jestful.comp.message" [":require" ["[]" "hsl.core" ":refer" ["[]" "hsl"]] ["[]" "clojure.string" ":as" "string"] ["[]" "respo.alias" ":refer" ["[]" "create-comp" "div" "span" "textarea"]] ["[]" "respo-ui.style" ":as" "ui"] ["[]" "jestful.style.widget" ":as" "widget"] ["[]" "jestful.style.layout" ":as" "layout"] ["[]" "respo.comp.text" ":refer" ["[]" "comp-text"]] ["[]" "respo.comp.space" ":refer" ["[]" "comp-space"]] ["[]" "respo.comp.debug" ":refer" ["[]" "comp-debug"]] ["[]" "jestful.comp.header" ":refer" ["[]" "comp-header"]] ["[]" "jestful.util.format" ":refer" ["[]" "display-time"]]]], "jestful.comp.naming" ["ns" "jestful.comp.naming" [":require" ["[]" "hsl.core" ":refer" ["[]" "hsl"]] ["[]" "respo.alias" ":refer" ["[]" "create-comp" "div" "span" "textarea" "input"]] ["[]" "respo-ui.style" ":as" "ui"] ["[]" "jestful.style.widget" ":as" "widget"] ["[]" "jestful.style.layout" ":as" "layout"] ["[]" "respo.comp.debug" ":refer" ["[]" "comp-debug"]]]], "jestful.style.typeset" ["ns" "jestful.style.typeset" [":require" ["[]" "hsl.core" ":refer" ["[]" "hsl"]]]], "jestful.style.layout" ["ns" "jestful.style.layout" [":require" ["[]" "hsl.core" ":refer" ["[]" "hsl"]]]]}, :main-definition nil, :procedures {"jestful.comp.container" [], "jestful.comp.draft" [], "jestful.style.widget" [], "jestful.comp.empty" [], "jestful.comp.header" [], "jestful.style.devtool" [], "jestful.comp.reply" [], "jestful.core" [["set!" "js/window.onload" "-main"]], "jestful.util.format" [], "jestful.comp.message" [], "jestful.comp.naming" [], "jestful.style.typeset" [], "jestful.style.layout" []}}